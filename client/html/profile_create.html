<!DOCTYPE html>
<html lang="ko">
  <head>
    <link rel="stylesheet" href="../css/styles.css" />
    <meta charset="utf-8" />
    <title></title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <nav>
      <a href="index.html">홈</a>
      <a href="matching.html">매칭</a>
      <a href="court.html">코트정보</a>
      <a href="login.html">로그인</a>
      <a href="register.html">회원가입</a>
    </nav>
    <form method="post" action="json/profile_create_result.json">
      <div>
        <div>닉네임: <input type="text" name="nickname" /></div>
        <div>활동지역: <input type="text" name="area" /></div>
        <div>성별: <input type="text" name="gender" /></div>
        <div>구력: <input type="text" name="experience" /></div>
        <div>NTRP: <input type="text" name="ntrp" /></div>
        <a href="ntrp_test.html" target="_blank">[NTRP 테스트 하기]</a>
      </div>
      <div>
        <button type="submit">저장</button>
      </div>
    </form>

    <script>
      $("form").on("submit", function (e) {
        e.preventDefault();
        var url = $("form").prop("action");
        var nickname = $("form [name=nickname]").val();
        var data = {
          nickname: nickname,
        };
        var response = {
          error: 0,
          message: "성공",
        };

        var onpost_callback = function (response) {
          if (response.error == 0) {
            location.href = "waiting_room.html";
          } else {
            alert(response.message);
          }
        };

        onpost_callback(response);

        // $.post(url, data, onpost_callback);
      });
    </script>
  </body>
</html>
